[
    {
        "title": "About",
        "uri": "post/about",
        "content": "diss               V",
        "objectID": "post/about",
        "date": "2018-03-10T07:05:30.000Z",
        "categories": [
            "生活",
            "感悟"
        ],
        "draft": false
    },
    {
        "title": "服务稳定性提升之-熔断组件Hystrix",
        "uri": "post/robust-service_hystrix",
        "content": "Hystrix netflix                                 requestCache                            profile                                                               Hystrix                 Fail Fast                                                      rpc          jar                                qps p99    metrics         profile           requestCache        LocalCache                                  Work                500ms             50                    20                                                                  5                                                                       1                                        Hystrix     Timer                          10                             Hystrix                  hystrix            failfast hystrix            spring boot   restful                             Main                 8080    apache benchmark      service  MessageService        HystrixCommand         controller MessageController                             Demo1  ab  c 1  n 100  http   localhost 8080 msg 1 timeout           ID 1           sleep               1s                    fallback    Demo2  ab  c 1  n 100  http   localhost 8080 msg 2 exception  ab  c 1  n 100  http   localhost 8080 msg 1 exception           ID 1                                                      ID 2                                              500ms               Demo3  curl  s  http   localhost 8080 msg 1 2 ratelimiter        ID 1 2                 1                       fallback   Demo4  curl  s  http   localhost 8080 msg 1 async        ID 1                                   Demo5  curl  s  http   localhost 8080 msg 1 cache        ID 1       http     ID                  Demo6  curl  s  http   localhost 8080 msg 1 2 collapse                              service   hystrix                      db              dashboard     metrics   hystrix                                               profile       profile                   hystrix                hystrix           dashboard        war                                                     turbine         dashboard             servlet  hystrix metrics event stream      dashboard      metrics              Hystrix  dashboard      HystrixCommand          HystrixCommand does NOT work  original call made service method without direct  HystrixCommand  example  original call    service      doSomething    Here  service   does NOT  HystrixCommand  calls method doSomething     HystrixCommand  public class   public void service         doSomething           HystrixCommand public void doSomething             side  original call invokes doSomething   directly   HystrixCommand works well  believe  spencergibb gave good direction issue  AOP rather  HystrixCommand self  quick search AOP  found good Posted 26th July 2009 Denis Zhdanov  Please check via link  Spring AOP top problem  1   aspects not applied      Why  HystrixCommand not work            payload     cost of threads        AOP    PS       AOP            javanica                        Command             why not use AOP",
        "objectID": "post/robust-service_hystrix",
        "date": "2018-03-21T07:43:14.000Z",
        "categories": [
            "技术"
        ],
        "tags": [
            "netflix",
            "Java",
            "服务稳定性",
            "开源组件"
        ],
        "thumbnail": "images/qieyifengjing.jpg",
        "draft": false
    },
    {
        "title": "问题排查利器之-JVM动态追踪工具BTrace",
        "uri": "post/troubleshooter_btrace01",
        "content": "BTrace    ASM                         java                                    Attach API   BTrace         ASM   JDK Instumentation    BTrace                                                                                                      BTrace      http   github com btraceio btrace         release        BTrace      sh    bin btrace  u java  ID XXX java                  sh    bin btrace  u  o btrace log java  ID XXX java  o             trace java                             o      btrace   o        console                       sh    bin btrace  u java  ID XXX java   btrace log          jdk        classpath          cp   BTrace                 Attach JVM         JVM classpath  sh    bin btrace  u  o btrace log  cp   guava 18 0 jar java  ID XXX java           Btrace            Location            Kind Entry    Entry             Kind Return                         Kind Return Kind CALL                             Kind LINE   line                 Kind Throw          Kind Catch           Kind Error                                 Throwable          public static void onBind Throwable exception   Duration long duration           BTrace       java           btacec                 sh    bin btracec XXX java       BTrace       trace                             BTraceUtils              static              for               BTrace unsafe true           u                                 Duration                     fqn             import com sun btrace annotations    import static com sun btrace BTraceUtils     BTrace unsafe true  public class GetImageCost    OnMethod clazz  cn sina as service impl AttachStorageServiceImpl   method  getAttachStorageFromNormal   location    Location Kind RETURN   public static void printGetImageTime  ProbeClassName String probeClass   ProbeMethodName fqn   true  String probeMethod   Duration long duration    println         ProbeClass     probeClass     probeMethod     probeMethod     duration      duration   100000     ms                              100ms   import com sun btrace annotations    import static com sun btrace BTraceUtils     BTrace public class PrintGenerateThumbPicCost    OnMethod clazz  cn sina as service impl AttachStorageServiceImpl   method  getImage  location    Location value   Kind CALL  clazz          method            Where AFTER   public static void printCompressedImageTime  Self Object self   TargetInstance Object instance   TargetMethodOrField fqn   true  String method   Duration long duration     duration   100 100000    println         invoke method     method     duration      duration  100000     ms                            import com sun btrace annotations    import static com sun btrace BTraceUtils     BTrace public class PrintThreadStack    OnMethod clazz  cn sina as service impl AttachStorageServiceImpl   method  getImage   public static void printThreadStack     println  thread dump getImage invoked     jstack                        sh    bin btrace  u  cp   attachment common 1 1 16 jar 9 PrintParamAndReturn java                   3         Self    this              Return         import com sun btrace annotations    import static com sun btrace BTraceUtils    import java lang reflect Field  import cn sina as constant ImageType  import cn sina as model AttachStorage  import com sun btrace AnyType  import cn sina as model AuthUser  import cn sina as model DownloadContext   BTrace unsafe true  public class PrintParamAndReturn    OnMethod clazz  cn sina as service impl AttachStorageServiceImpl   method  getAttachStorageFromNormal   location    Location Kind RETURN   public static void printParamAndReturn  Self Object self  long fid  ImageType imageType  AuthUser user  DownloadContext context   Return AnyType result    println  method params      fid   println  method params      user getUid     printFields result   println  method return      str get field  cn sina as model AttachStorage    filename    result                                                                        JDK            AnyType    JDK                                       AnyType                                  sh    bin btrace 9 PrintParamAndReturn java import com sun btrace annotations    import static com sun btrace BTraceUtils    import java lang reflect Field  import com sun btrace AnyType   BTrace public class PrintParamAndReturn    OnMethod clazz  cn sina as service impl AttachStorageServiceImpl   method  getAttachStorageFromNormal   location    Location Kind RETURN   public static void printParamAndReturn  Self Object self  long fid  AnyType imageType  AnyType authUser  AnyType downloadContext   Return AnyType result    println  method params      fid   printFields result           10s                          OnTimer              sh    bin btrace 9 PrintPerfCount java import com sun btrace annotations    import static com sun btrace BTraceUtils    import java util concurrent atomic AtomicInteger  import java util Map   BTrace public class PrintPerfCount   private static Map histo   newHashMap     OnMethod clazz  cn sina as service impl AttachStorageServiceImpl   method  getAttach",
        "objectID": "post/troubleshooter_btrace01",
        "date": "2018-03-20T06:18:25.000Z",
        "categories": [
            "技术"
        ],
        "tags": [
            "问题排查",
            "Java"
        ],
        "thumbnail": "images/xiaodongjiangchenwu.jpg",
        "draft": false
    },
    {
        "title": "Java堆外内存增长问题排查Case",
        "uri": "post/troubleshooter_native_memory_increase",
        "content": "java                   java Xmx   8G             RES 5G     13G            swap            Xmx    8G RES       13G    5G                            JVM                         JVM       JVM   JVM                                                                                                                                                               JVM          StackOverflowError                                                         OutOfMemoryError                         java          native                                                                StackOverflowError OutOfMemoryError  PC                                                                                                                                                      JAVA                             native     PC                 JVM                                                    GC                  OutOfMemoryError                                                                                          PermGen       Metaspace      PermGen space   Metaspace HotSpot            Java        JVM                                                                  HotSpot JDK 1 8                       PermGen space                JDK 1 8          Metaspace                                                                 java 8     Xmx   java  java 8       MaxPermSize           java               DirectByteBuffer      JNI                    jvm            codeCache java 8    metaspace         java       RES        java        java dump         jmap  histo live pid                  8G Xmx     GC              java               DirectByteBuffer    DirectByteBuffer            RPC       Netty NIO       DirectByteBuffer                   DirectByteBuffer      JDK 1 5  ByteBuffer   allocateDirect int capacity               unsafe allocateMemory size       malloc              java                  DirectByteBuffer      GC      DirectByteBuffer                                    DirectByteBuffer     young GC   Old    Old      CMS GC  Full GC                               JVM     Bits DirectByteBuffer      Bits      Bits         totalCapacity        DirectByteBuffer                                 Xmx                  Sytem gc   System gc                              DirectByteBuffer                       DisableExplicitGC   System gc                         DirectByteBuffer              Netty     DirectByteBuffer                    DirectByteBuffer          DirectByteBuffer     native    malloc           java     GC                      IO             Buffer                Socket    DirectByteBuffer                              malloc OS               JVM                Netty        PooledDirectByteBuf  DirectByteBuffer                 DirectByteBuffer      JMX     direct buffer MXBean         Dcom sun management jmxremote port 9527  Dcom sun management jmxremote  Dcom sun management jmxremote authenticate false  Dcom sun management jmxremote ssl false  Djava rmi server hostname 10 79 40 147 JMC            Xmx 8G      RES     13G MBean   java nio BufferPool  direct     direct buffer         213M                XX MaxDirectMemorySize   DirectByteBuffer         1G                             DirectByteBuffer         NMT  JVM       Native Memory Tracking NMT    NMT Java7U40   HotSpot         JVM                   NMT     JVM            java         NMT                     summary   detail        XX NativeMemoryTracking summary     XX NativeMemoryTracking detail       jcmd            jcmd VM native_memory  summary   detail   baseline   summary diff   detail diff   jcmd 11 VM native_memory       Native Memory Tracking  Total  reserved 12259645KB        committed 11036265KB                          Xms Xmx     8G  Java Heap  reserved 8388608KB  committed 8388608KB   mmap  reserved 8388608KB  committed 8388608KB                       12045          79M    Class  reserved 1119963KB  committed 79751KB   classes  12045   malloc 1755KB  29277   mmap  reserved 1118208KB  committed 77996KB    2064         2 1G       1M    Xss1m    Thread  reserved 2130294KB  committed 2130294KB   thread  2064   stack  reserved 2120764KB  committed 2120764KB   malloc 6824KB  10341   arena 2706KB  4127  JIT      12045  JIT           79M    Code  reserved 263071KB  committed 79903KB   malloc 13471KB  15191   mmap  reserved 249600KB  committed 66432KB  GC               GC                118M    GC  reserved 118432KB  committed 118432KB   malloc 93848KB  453   mmap  reserved 24584KB  committed 24584KB  JAVA                      Compiler  reserved 975KB  committed 975KB   malloc 844KB  1074   arena 131KB  3  Internal memory used command line parser  JVMTI  properties   Internal  reserved 117158KB  committed 117158KB   malloc 117126KB  44857   mmap  reserved 32KB  committed 32KB  Symbol       Interned String               17M   Symbol  reserved 17133KB  committed 17133KB   malloc 13354KB  145640   arena 3780KB  1  NMT          4M   Native Memory Tracking  reserved 4402KB  committed 4402KB   malloc 396KB  5287   tracking overhead 4006KB             Arena Chunk  reserved 272KB  committed 272KB   mall",
        "objectID": "post/troubleshooter_native_memory_increase",
        "date": "2018-08-15T08:30:00.000Z",
        "categories": [
            "技术"
        ],
        "tags": [
            "问题排查",
            "Java",
            "JVM"
        ],
        "thumbnail": "images/IMG_6127.JPG",
        "draft": false
    },
    {
        "title": "一个StackOverFlowError问题引出的JVM栈内存管理",
        "uri": "post/troubleshooter_stackoverflowerror",
        "content": "javacv    jar  so         StackOverFlowError        jvm           Xss                   Xss256k    Xss1m           JDK1 5   xss 64   1M  32   512K      JVM          JVM                    JVM           HotSpot               Java     Java Virtual Machine Stacks                                     Stack Frame                                                        StackOverflowError                                                  OutOfMemoryError          Xss               Native Method Stack             Java     Java Virtual Machine Stacks     Java     Java           Native     Sun HotSpot                                Xoss         Hot spot                   Xss  Xoss              StackOverflowError     Xss                                                                                                                                                                            Java      Class         Code   max _locals                                       Variable Slot                JVM        Slot        boolean byte char short int float refrence returnAddress                                             reference   returnAddress         jsr jsr _w ret                          Slot    32      64    Slot    64         64        long double                      Slot                                     Slot                                                0           Slot     32           N       N Slot    64                N  N 1  Slot    static         1 Slot                 this                                                                                                 int long float double reference returnType      byte short  char                     int      Java      byte short char           int                         Java                                         Java                                                                               Java                       try catch    try finally                                    JVM   try                                                                                  JVM                               JVM                         JVM         JVM                                                              JVM                                                                                                  JVM                 return           Java                          JVM                       StackOverFlowError                StackOverflow                                                                                   JNI              load             StackShadowPages     Stack Space        Say  stack overflow Java language code will normally result offending thread throwing java lang StackOverflowError  hand  C C   write past end stack provoke stack overflow  fatal error causes process terminate  HotSpot implementation  Java methods share stack frames C C   native code  namely user native code virtual machine itself  Java methods generate code checks stack space available fixed distance towards end stack so native code called without exceeding stack space  distance towards end stack called  Shadow Pages   size shadow pages 3 20 pages  depending platform  distance tunable  so applications native code needing default distance increase shadow page size  option increase shadow pages  XX StackShadowPages  n  n greater default stack shadow pages platform  Resource  http   www importnew com 17770 html https   github com bytedeco javacpp presets wiki Debugging UnsatisfiedLinkError and StackOverflowError on Linux",
        "objectID": "post/troubleshooter_stackoverflowerror",
        "date": "2018-03-21T08:51:44.000Z",
        "categories": [
            "技术"
        ],
        "tags": [
            "问题排查",
            "Java",
            "JVM"
        ],
        "thumbnail": "images/yalaxueshan.jpg",
        "draft": false
    }
]